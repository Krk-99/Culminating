// hmm im thinking of moving my comments to another file so its less cluttered
// Scrapping this simple one for a more complex setup right away
// Still haven't decided between universal camera or arc rotate camera
// Just going to use universal for now and try it out
// Setting starter location to be behind the player model and above it a bit
// This sets us up for a third-person perspective
// First add light cuz its too dark otherwise
// Now to add controls to camera
// Using a follow camera to keep it focused on the player
// thats done creating the camera now just need to focus it on the player model
// set radius to negative to be behind player
// did not work hmm
// nvm it did work just didnt save :( soo stupid
// hmm my camera is rotating while player moves not sure why
// first need to remove the rotation ability of the camera 
// did that by removing the attach control line
// Now to fix the rotation issue
// Im going to try arc rotate camera instead since its possible for it to follow target better maybe idk ill have to see
// gotta figure out how to set the target for arc rotate camera tho to the box
// it works kinda just need to zoom in to make sure no weird things happening 
// Hmm so it seems followCamera is better cuz i dont need to set the box to a local space of camera 
// I did use follow camera for a bit cuz the original universal camera had a bit of issues with movement for box but im making it from scratch now so theoretically we should be good
// const camera = new BABYLON.FollowCamera('PlayerCamera', new BABYLON.Vector3(0, 1, -4), scene);
// camera.radius = -5; 
// camera.heightOffset = 3;
// camera.rotationOffset = 0;
// camera.cameraAcceleration = 0.05;
// camera.maxCameraSpeed = 5;
// Hmm i want to tilt this forward a bit so its looking down at the player
// wow this thing alr knows how to do it
// wait this should be in the vector 3 right?
// nvm it doesnt
// why am i facing right?
// so i need to figure out how to use mouse deltas to rotate the box now
// camera.checkCollisions = false;
// hmm y rotates what should be the z axis?
// i guess the image was wrong
// Perfect now to make the mesh move i need to parent camera to mesh apparently that rotates the mesh as well?
// camera.attachControl(canvas, true);
// camera Acceleration meaning that how fast will it increase speed as time moves on I dont know if this is necessary but whatever
// Setting prevent default to true so that the browser doesn't also try to move when we do
// Controls work but need to tweak speed and sensitivity later
// Right now need to make player move first before adjusting camera speed
// I'm going to manually change the camera position in the movement code for the player cuz it seems easier that way
// scene.createDefaultCameraOrLight(true, false, true);
// why is just adding the debug mode a pain :(
// thats why it didnt work theres no more debug :()
// setting box rotation to normal
// well that didnt work but its getting late so do this later
// Dont know what to write in the event so asking chatgpt wht the heck its asking for
// New method for getting pointer info only i dont know what it wants me to write for event
// sorry i thought i got the answer but i guess not
// Auto complete is rly helpful :)
// Hope this works
// ohhh forgot to set false if not clicked ummm
// that should do it
// Oh wait that overides the keydown event listener hmm
// Now need to move cam position instrad of mesh
// Now need to get all the other directions working
// Hmm auto complete told me to use the reverse method for direction i guess it should work
// You gotta love auto complete its so helpful
// let directionf = camera.getForwardRay().direction;
// directionf.normalize();
// New problem the next 4 lines crashes the whole thing no clue why
// oh wait lemme see if the inspect feature tells me anything
// Wht the fudge it says getRightRay is not a function
// Wait i just realized I need to move the camera based on the boxs position not the cameras idiot  
// let directionr = camera.getRightRay().direction;
// directionr.normalize();
// let directionl = directionr.scale(-1);
// let directionb = directionf.scale(-1);
// theres a property for the forward direction of the mesh AJHHHH
// ok first i need to fix the orientation of the box cuz its rotated weirdly(
// k so this direction stuff from mesh doesnt work well so im gonna find another method
// AHH but i didnt figure out how to rotate the box :()
// Yea so basically all that happened is that i needed to move the box but i put the box in the camera's local space not in the world space 
// so it wouldnt work for it being a platformer as i need gravity and velocity and stuff and i cant operate in local space for that
// so now im back to moving the box and parenting the camera to the box so it follows along 
// but now instead of using fancy methods i have to get my own mouse deltas and I STILL DONT KNOW HOW TO DO THAT
// Ok i need to ask chatgpt if i should move the camera or the box cuz i know theres gonna be problems if i choose either i wanna see the less problematic or least comprimising one
// Oh yea i had to ask chatgpt about moving the box vs camera cuz i realized moving the camera alone would cause issues with collisions and physics
// but moving box has the issue im dealing with rn of getting mouse deltas to rotate the box 
// but life must go on so imma try to figure this out
// addinplace is addition of a vector to a current position vector to move it with the parameter of speed
// camera.position.z += 0.1;

// I LOVE VISUAL STUDIO CODE'S AUTO COMPLETE FEATURE
// Now to add basic movement controls for the player
// Using WASD for movement
// since we are staring at the z axis positive, W will move forward in negative z direction
// S will move backward in positive z direction
// A will move left in negative x direction
// D will move right in positive x direction
// Hopefully negative moves us forward, positive moves us backward
// Oops forgot to get the box mesh first didnt know why I thought I could just use box directly since it local variable in a function
// Nope need to reverse the polarity of the z axis movement
// Regretting the autocomplete feature a bit there
// K now need to link camera to player movement
// What's a camera parent? Going to look that up right now
// Just learned about follow cameras so going to try that instead
// focusing the camera on the playermesh 
// should follow the camera
// now im gonna move the movement to render loop cuz this is running independently of frame rate :(0
// The logic im gonna use are booleans and movements based of booleans
// Just realized dont know how to create booleans 
// Nvm just rmb im using javascript idiot 
// I LOVE AUTO COMPLETE
// That should make if key is not pressed set boolean to false
// but need to figure out how to do it if no key is pressed since listener only triggers on key press
// smooth movement but i need to get while pressing maybe
// Hmm parenting seems to place me above the box
// ITS NOT ROTATING WITH THE CAMERA WHOS LYING TO ME
// Oh shoot im in the box local space not world space duh
// so i need to change the position relative to the box
// OHH i parent the box to the camera maybe
// box.rotation.y = Math.PI;     
// No clue wht the request pointer lock code does so Ill search it up
// K so the request pointer lock is fetching the pointer lock API to lock the mouse pointer to the canvas from different browser hence so many calls
// then it locks using requestPointerLock method
// but i dont need this since camera.attachControl already does this for me
// but I just got convinced to move from arcrotate to universal camera sooo les get moving
// why am i above it
// attachcontrol doesnt lock my mouse so imma add it back
// I dont know what im doing after reading this doc for like 20 mins i think i get the gist of it but f babylon for such bad documentation on this
// Oh yea forgot abt this there seems to be an onpointerobseverble event but I cant find that sooo ignoring that for now
// mouselocked = true;
// OH SHOOT AUTO COMPLETE COOKED I DIDNT KNOW I HAD TO DO IT LIKE THIS LES GOOO 
// Btw the 0 is in case smth goes wrong with event movementX/Y, it doesnt error the code but just sets it to 0
// ok im getting negative up to -4 for moving left and positive up to 4 for moving right
// so imma divide by 100 to make it less sensitive
// just realized getting out mouse lock doesnt deactivate mouselocked boolean
// too sensitive
// Wow this thing wrote by itself this should work now cuz once key is released it sets boolean to false
// YES SMOOTH MOVEMENT WORKS YAY
// Now to rotate following the mouse :(
// Saw chatgpt create a input object to store inputs and realized that would be nice for me as well so making myself one
// Saw how chatgpt reads inputs and i want to make it but ill leave it for later
// Dont think my grav system is going to work cuz there doesnt seem to be a property for applying gravity 
// Im gonna add in a vertical rotation for cam specifically while thinking how to solve grav
// pretty good lock in moment we got a lot done 
// dont know why the rotation isnt locking but its okay ill figure it out soon
// figured out a new method to fix the up and down movement of the camera
// its called clamping
// k well the camera is working better 
// but the movement isnt looking really good 
// particulary the physics so im gonna research more on how to do it better
// do you see this
// i have to do all that just to move my player :(
// to explain the code that he wrote before we render the frame we store the movement that we detected with the keyboard inputs and store it all in one vector 
// then we normalize the vector for some reason 
// ohhh so it makes it a unit vector to describe direction we want to move in the 3d plane and then we use velocity aimed at that direction 
// though with his method im pretty sure we will be moving in global space axis i dont like that hmm
// we can ignore camera smoothing since we arent moving the camera to follow our player
// since i made it in the box's local space what ever changes move the box with the camera as a part of it
// damn roblox game creation coming in clutch here :)
// I hate ads
// why is game physics so irritating 
// oh so lerping is like if we hold both a and w it will go diagonally left top i think
// hmm we are at a crossroad rn
// we can go use a physics engine but i feel like thats overkill and itll take too long to learn how to debug 
// lemme try making a vector for gravity
// oh i alr thought of that wow
// i have no clue how that syntax works but i think i can just write code in the curly bracket
// hmm they use deltatime for their timer but does that timer reset? cuz wont it just continually increase while game time continues
// unless we start a new timer the moment they jump the ground and are not colliding with the ground and stop it the millisecond they land
// i just thought of a genius idea
// so when the player clicks a key we register which direction then start a timer and then we set the endtimer call to when they lift the key up than we do smth like
// speed = timer/10
// speed = BABYLON.Scalar.Clamp(speed, 0.1, max_speed)
// box.moveWithCollisions(direction.scale(speed))
// that way we will be able to move slowly and then increase it bit by bit
// or maybe we can do an exponential growth pattern
// gotta learn how to do that first though
// for now we can use this linear growth pattern
// anyways need to figure out how to start a timer 
// or maybe we create a function that will increase every render the count 
// lemme see if theres a method that already does that
// wait cant lose that, its our only way to detect the ground
// theres a timer but dont know if i can create multiple instances 
// and if i can idk if i want to do That
// hmm what if we create a direction vector and just add to it or remove from it the various directions
// sry i got distracted by my phone Oops
// yikes i dont want to worry about resources too much work :(
// im gonna be back
// on a call with friends so no music for now
// oh shoot i need a stop watch not a timer 
// looks like i have create one myself
// hmm i think i need to create one timer and just chnage the direction as input is 
// hmm i dont think we need a let statement to declare a variable 
// is life turning around :)
// nvm its not :(
// i just came up with a good idea
// i was wondering how to detect when to stop timer since im using one timer and i can get 4 movement inputs 
// for example if I used w to start the timer then if i let go of w but was still clicking d how do i detect that im still clicking D
// and if i just detected if there was keyboard input then would jump also restart the timer
// its kindav hard to explain but then i realized that i can just put a boolean on each input and when they stop inputting that input its boolean will false
// then only if all booleans are false will the timer stop
// i can run a check every render :)
// im too lazy to make a second function so startTimer stops it as well 
// aight i did a lot and i think this should work Hopefully
// oh shoot since i set velocity to 0,0,0 every before render it doesnt add on top of each other wow
// yay made movement to a velocity now just gravity and everything else possible and im done
// goodbye
// just wanted to do a quick video for gravity
// gonna leave this for tmrw
// hey guys back again time to finish up game physics 
// lets start 
// aight i need to learn raycasting first cuz i need to fix my ground detection
// gonna try out gemini's guided learning feature to teach me this
// gravity works now i want to fix jumping to make it a velocity kindav jump so currently 
// jump works now i need to fix the ellipsoid able to catch on the mesh
// end of this session goodbye
// hey im gonna actually start making the game
// i thought it over and im gonna keep the ellipsoid the sphere for now since im gonna change player character later hence no need to customize the ellipsoid for now
// so for now im gonna make a few jumps and try making some gameplay
// my headphones werent connected oops
// need to alter my isground feature 
// need to set it to if mesh has a property, or actually i think i can just use smth like checkCOllisions property
// wait that wont filter out the player would it
// hmmm
// lets see how to make a property
// i think i just say object.isGround = true or smth
// hmm i rly need a proper round player or smth
// ehh actually lemme check free models
// but then i need to upload a model
// hmmm too much work do that later
// and thats the first part of the game 
// this velocity things is actually kindav hard
// taking a break
// using sphere for player since its the shape of the collision ellipsoid
// hmm reading uppercase W is a pain but switching to event.code seems more work than just using the line key = event.key.toLowerCase(0)
// tryna finish this soon so getting my design mode on
// too lazy to find the tutorial so just gonna use guided learning mode and ask gemini how to do the coloring and stuff
// oops forgot to turn guided mode learning thingy
// gonna get ai to make a good prompt for each image
// wow using ai to prompt ai for me how far the world has fallen 
// just gonna search online for a skybox ai is stupid
// time to make gui
// switching the skybox
// k this game is actually trash so time to make actually gameplay :)
// first lets make it that the grounds are in a list or array
// well that worked now 
// got a break page cuz im tired of pausing
// oops took quite a long break didnt i
// oops forgot to put the other conditions if i is 1 or 0
// yay first crash mid game 
// and i know whats wrong :)
// when i reached that platform theres no platform 2 spaces ahead meaning in list [ground, ground1, ground2, ground3, ground4, ground5, ground6]
// when i reach ground 5 theres no value 2 indexes ahead hence grounds[i+2] doesnt exist hence game crashes as it reads a null value property
// shoot gl is 1 greater than the max i value oops
// yay code works YIPPEE
// now make platforms look better
// you know what time it is 
// got food
// thats it for today ig? may make a quick vid later actually ill just pause so i dont need to make a separate vid
// trying to clock in a bit more before i sleep
// well yea thats basically it for tonight, im gonna lock in dw this game is gonna be peak